<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TabNabbing Defender</title>
  <style>
    :root{
      --bg1:#6366f1; --bg2:#7c3aed;
      --card:#ffffff; --ink:#273444; --sub:#5b7083;
      --chipCritical:#e91e63; --chipWarn:#ff6b35; --chipMinor:#ffa726; --chipSafe:#9e9e9e;
      --ring:rgba(0,0,0,.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      width:300px;
      padding:12px;
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      color:var(--ink);
    }
    .card{
      background:var(--card);
      border-radius:12px;
      padding:14px;
      box-shadow:0 10px 24px rgba(0,0,0,.18);
    }
    h1{font-size:18px; font-weight:800; margin-bottom:8px;}
    p.desc{font-size:12px; line-height:1.45; color:var(--sub); margin-bottom:12px;}
    .group{border:1px solid var(--ring); border-radius:10px; padding:10px; margin-bottom:10px;}
    .gtitle{font-size:12px;font-weight:800;margin-bottom:6px;letter-spacing:.2px}
    .row{display:flex; gap:10px; align-items:center; margin:6px 0}
    .chip{width:12px;height:12px;border-radius:4px;border:1px solid rgba(0,0,0,.15)}
    .c-critical{background:var(--chipCritical)}
    .c-warn{background:var(--chipWarn)}
    .c-minor{background:var(--chipMinor)}
    .c-safe{background:var(--chipSafe)}
    .label{font-size:12px;color:var(--ink)}
    .muted{font-size:11px;color:var(--sub)}
    .btn{
      width:100%; border:none; border-radius:10px; padding:10px 12px;
      font-weight:800; font-size:14px; color:#fff; cursor:pointer;
      background:linear-gradient(135deg,#6d79ff,#6b3fd8);
      box-shadow:0 6px 16px rgba(0,0,0,.18);
      margin-top:6px;
    }
    .btn:active{transform:translateY(1px)}
    #feedback{
      margin-top:8px; border:1px solid var(--ring); border-radius:10px;
      padding:8px; text-align:center; font-size:12px; color:var(--sub); background:#f7f9fc;
      min-height:32px; display:flex; align-items:center; justify-content:center;
    }
    .foot{margin-top:8px;text-align:center;font-size:11px;color:var(--sub)}
  </style>
</head>
<body>
  <div class="card">
    <h1>TabNabbing Defender</h1>
    <p class="desc">Background protection is active. We color the badge and draw page overlays when suspicious changes are detected.</p>

    <div class="group">
      <div class="gtitle">Badge colors — % changed (global)</div>
      <div class="row"><span class="chip c-critical"></span><span class="label">Critical: ≥ 35%</span></div>
      <div class="row"><span class="chip c-warn"></span><span class="label">Warning: 15–34.9%</span></div>
      <div class="row"><span class="chip c-minor"></span><span class="label">Minor: &lt; 15%</span></div>
      <div class="row"><span class="chip c-safe"></span><span class="label">Safe: 0%</span></div>
      <div class="muted" style="margin-top:4px;">Badge number = count of changed regions found on the page.</div>
    </div>

    <div class="group">
      <div class="gtitle">Overlay colors — color difference (per-region)</div>
      <div class="row"><span class="chip c-critical"></span><span class="label">Critical: ≥ 28</span></div>
      <div class="row"><span class="chip c-warn"></span><span class="label">Warning: 12–27.9</span></div>
      <div class="row"><span class="chip c-minor"></span><span class="label">Minor: &lt; 12</span></div>
    </div>

    <button id="clearBtn" class="btn">Clear Page Highlights</button>
    <div id="feedback">Ready.</div>
    <div class="foot">Auto-checks run on tab/window focus.</div>
  </div>

  <script src="control.js"></script>
</body>
</html>
